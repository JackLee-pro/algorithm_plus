# [75. é¢œè‰²åˆ†ç±»](https://leetcode-cn.com/problems/sort-colors)

é¢˜ç›®ä¸­ç»™å‡ºä¸€ä¸ªåŒ…å«0ã€1ã€2çš„ä¹±åºæ•°ç»„è¦æ±‚æˆ‘ä»¬è¿›è¡Œæ’åºã€‚
é€šè¿‡ä¸‹é¢çš„æç¤ºæ¥æ€è€ƒè§£ç­”
**ä¸€ä¸ªç›´è§‚çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨è®¡æ•°æ’åºçš„ä¸¤è¶Ÿæ‰«æç®—æ³•ã€‚
é¦–å…ˆï¼Œè¿­ä»£è®¡ç®—å‡º0ã€1 å’Œ 2 å…ƒç´ çš„ä¸ªæ•°ï¼Œç„¶åæŒ‰ç…§0ã€1ã€2çš„æ’åºï¼Œé‡å†™å½“å‰æ•°ç»„ã€‚**

æ­¤æ–¹æ³•æ•™æˆ‘ä»¬é€šè¿‡ä¸€æ¬¡éå†ï¼Œåˆ†åˆ«ç»Ÿè®¡å‡º0ã€1ã€2çš„ä¸ªæ•°ï¼Œç„¶åé€šè¿‡å¯¹åŸæ•°ç»„è¿›è¡Œèµ‹å€¼ï¼Œå°±å¾—åˆ°äº†æ’å¥½åºçš„æ•°ç»„ã€‚è¿™ç§æ–¹æ³•è¢«ç§°ä½œ**è®¡æ•°æ’åº**
> ## è®¡æ•°æ’åº
> 1. é€šè¿‡ä¸€æ¬¡éå†ï¼Œå¾—åˆ°æ•°ç»„ä¸­çš„æœ€å¤§å€¼ max å’Œæœ€å°å€¼ min
> 2. ä½¿ç”¨ {max - min} å¾—åˆ°çš„æ•°ç”³è¯·é¢å¤–æ•°ç»„ç©ºé—´ï¼Œå…¶ä¸­çš„æ¯ä¸€ä½å°†è®°å½•åŸæ•°ç»„å…ƒç´ å‡ºç°çš„æ¬¡æ•°
> 3. å†æ¬¡éå†åŸæ•°ç»„ï¼Œç»Ÿè®¡åŸæ•°ç»„ä¸­å…ƒç´ å‡ºç°çš„æ¬¡æ•°ã€‚ã€Œå¦‚åŸæ•°ç»„å‡ºç°äº† n ,åˆ™å°†é¢å¤–æ•°ç»„ç©ºé—´çš„ç¬¬ (n - min) ä½ + 1 ä»£è¡¨å…¶å‡ºç°æ¬¡æ•°å¤šäº†ä¸€ä½ã€
> 4. éå†é¢å¤–ç©ºé—´æ•°ç»„ï¼Œä»å°åˆ°å¤§å¯¹åŸæ•°ç»„é‡æ–°èµ‹å€¼
> å¯ä»¥é¢„è§ï¼Œå¦‚æœå¾…æ’åºæ•°ç»„çš„æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®è·å¾ˆå¤§ï¼Œä¼šå¾ˆè€—è´¹ç©ºé—´ã€‚

**è®¡æ•°æ’åºæ³•è§£ç­”**
```Java
public void sortColors(int[] nums) {
    int[] times = new int[3];
    for (int num : nums) {
        times[num]++;
    }
    int index = 0;
    for (int i = 0; i < times.length; i++) {
        while (times[i] > 0) {
            nums[index] = i;
            times[i] --;
            index++;
        }
    }
}
```
å› ä¸ºæ­¤é¢˜ä¸­æˆ‘ä»¬å·²ç»çŸ¥é“å–å€¼èŒƒå›´æ˜¯0-2ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥ç”³è¯·äº†å¤§å°ä¸º3çš„æ•°ç»„ç”¨æ’åºã€‚
è¿™ç§æ–¹æ³•éå†äº†ä¸¤æ¬¡ã€‚

--- 

ä¸‹é¢è®©æˆ‘ä»¬æ¢è®¨ä¸€ä¸‹é¢˜ç›®ä¸­çš„ç¬¬äºŒä¸ªæç¤ºï¼š
**ä½ èƒ½æƒ³å‡ºä¸€ä¸ªä»…ä½¿ç”¨å¸¸æ•°ç©ºé—´çš„ä¸€è¶Ÿæ‰«æç®—æ³•å—ï¼Ÿ**

é¢˜ç›®çš„è¦æ±‚å¾ˆç®€å•
1. 0 æ”¾é¦–ä½
2. 2 æ”¾æœ«å°¾
3. 1 æ”¾ä¸­é—´

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»ä¼¼å¿«æ’çš„äº¤æ¢é¦–å°¾ä½ç½®ä¸å¯¹çš„å…ƒç´ ï¼Œé€æ­¥å‘å†…ç¼©å‡èŒƒå›´ã€‚

å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œleft`ğŸ‘†` å’Œ right`ğŸ‘‡`
æ•°ç»„å¼€å§‹çŠ¶æ€ï¼Œleft æŒ‡å‘å¼€å§‹çš„ä½ç½®è€Œ right æŒ‡å‘æœ«å°¾
```
                        ğŸ‘‡
 2   0   1   0   2   1   0
ğŸ‘†
```
left å’Œ right éƒ½ä¸æ»¡è¶³é¢˜ç›®è¦æ±‚1ã€2ï¼Œäº¤æ¢ä»–ä»¬çš„ä½ç½®
```
                        ğŸ‘‡
 0   0   1   0   2   1   2
ğŸ‘†
```
åˆ†åˆ«å‘åç§»åŠ¨ left å’Œ right ï¼Œæ‰¾åˆ°ä»–ä»¬ä¸‹ä¸€ä¸ªä¸æ»¡è¶³1ã€2çš„ä½ç½®ï¼Œæ¢å¥è¯è¯´ï¼Œç»è¿‡è¿™æ¬¡éå†ï¼Œ`left = right = 1`
```
                    ğŸ‘‡
 0   0   1   0   2   1   2
        ğŸ‘†
```
æ­¤æ—¶æˆ‘ä»¬ä¸¤æŒ‡ä¸­é—´çš„æ•°æ®æ˜¯æ²¡æœ‰æ‹å¥½åºçš„ï¼Œæˆ‘ä»¬å†å®šä¹‰ä¸€ä¸ªæ•° current`ğŸ‘‡ğŸ»` = left + 1ï¼Œåˆ¤æ–­ä»–çš„å€¼æ˜¯å¦å°äºå½“å‰ left çš„å€¼ã€Œå³current = 0ã€äº¦æˆ–å¤§äºå½“å‰ right çš„å€¼ã€Œå³current = 2ã€,æ‰¾åˆ°è¿™ç§æ•°ï¼Œä¸ç›¸åº”çš„ left æˆ– right äº¤æ¢ï¼Œä½¿ç®—æ³•ç»§ç»­å›åˆ°ç§»åŠ¨ left å’Œ right
```
            ğŸ‘‡ğŸ»      ğŸ‘‡
 0   0   1   0   2   1   2
        ğŸ‘†
```
äº¤æ¢ left ä¸ current
```
            ğŸ‘‡ğŸ»      ğŸ‘‡
 0   0   0   1   2   1   2
        ğŸ‘†
```
ç»§ç»­æ‰¾åˆ° left å’Œ right ä¸æ»¡è¶³æ¡ä»¶ 1ã€2çš„ä½ç½®
```
                    ğŸ‘‡
 0   0   0   1   2   1   2
            ğŸ‘†
```
ç»§ç»­å®šä¹‰ current 
```
                ğŸ‘‡ğŸ»  ğŸ‘‡
 0   0   0   1   2   1   2
            ğŸ‘†
```
äº¤æ¢ right ä¸ current
```
                ğŸ‘‡ğŸ»  ğŸ‘‡
 0   0   0   1   1   2   2
            ğŸ‘†
```
ç»§ç»­å¾ªç¯æ‰¾åˆ° left å’Œ right ä¸æ»¡è¶³æ¡ä»¶ 1ã€2çš„ä½ç½®
```
                ğŸ‘‡
 0   0   0   1   1   2   2
            ğŸ‘†
```
current >= right å¾ªç¯ç»“æŸ

ä»˜è¯¸ä»£ç å¦‚ä¸‹ï¼š

```Java
public static void sortColors(int[] nums) {
    int left = 0, right = nums.length - 1;
    tag:
    while (left < right) {
        while (left < nums.length && nums[left] == 0) {
            left++;
        }
        while (right > 0 && nums[right] == 2) {
            right--;
        }
        if (right < 0 || left >= nums.length || left >= right) {
            break;
        }
        if (nums[left] > nums[right]) {
            swopNum(nums, left, right);
        } else if (nums[left] == nums[right]) {
            int current = left + 1;
            while (current < right) {
                if (nums[current] < nums[left]) {
                    swopNum(nums, left, current);
                    continue tag;
                } else if (nums[right] < nums[current]) {
                    swopNum(nums, current, right);
                    continue tag;
                }
                current++;
            }
            return;
        }
    }
}

private static void swopNum(int[] nums, int i, int j) {
    nums[i] = nums[i] + nums[j];
    nums[j] = nums[i] - nums[j];
    nums[j] = nums[i] - nums[j];
}
```
ç”¨åˆ°äº†ä¸¤ä¸ªå°æŠ€å·§ï¼š
- å¯¹ for/while å¾ªç¯ä½¿ç”¨ label 
    å¯ä»¥å¯¹ for/while å¾ªç¯å‘½åã€‚åœ¨å¤šå±‚å¾ªç¯ä¸­ï¼Œå¯ä»¥åœ¨å†…å±‚å¾ªç¯ä¸­æŒ‡å®š break/continue æŒ‡å®šå¾ªç¯
- ä¸¤æ•°äº¤æ¢
    äº¤æ¢ä¸¤ä¸ªæ•° a å’Œ b çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼š
    ```
    a = a + b;
    b = a - b;
    a = a - b;
    ```
    è¿™é‡Œæ²¡æœ‰ä½¿ç”¨å¤šä½™çš„ä¸´æ—¶ç©ºé—´æ¥äº¤æ¢ï¼Œå…·ä½“çš„ç®—æ³•çš„äº¤æ¢çš„ç²¾å¦™ä¹‹å¤„ç•™å¾…ä½ è‡ªè¡Œæ€è€ƒã€‚æ­¤å¤–ï¼Œç”¨å¦‚ä¸‹ä½è¿ç®—ä¹Ÿå¯ä»¥å®ç°ä¸¤æ•°äº¤æ¢ã€‚
    
```
    a = a ^ b;
    b = a ^ b;
Â  Â  a = a ^ b;
```
